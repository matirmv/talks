<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>microfrontends</title>

    <link rel="stylesheet" href="css/reset.css" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="css/reveal.css" />
    <link rel="stylesheet" href="css/theme/black.css" />
    <link rel="stylesheet" href="css/custom.css" />

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/monokai.css" />

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement("link");
      link.rel = "stylesheet";
      link.type = "text/css";
      link.href = window.location.search.match(/print-pdf/gi)
        ? "css/print/pdf.css"
        : "css/print/paper.css";
      document.getElementsByTagName("head")[0].appendChild(link);
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <!-- SLIDE0 -->
        <section>
          <h1>Les Micros Front Ends</h1>
          <ol>
            <li class="fragment fade-in-then-semi-out">
              Du monolithique au microlithique
            </li>
            <li class="fragment fade-in-then-semi-out">
              les Web Components à la rescousse
            </li>
            <li class="fragment fade-in-then-semi-out">
              Exemple de WC avec Angular et Vue
            </li>
          </ol>
        </section>

        <!-- SLIDE1 -->
        <section data-background-image="./assets/images/mamouth.gif">
          <h2>
            Du monolithique au microlithique
          </h2>
        </section>

        <section>
          <section>
            <h3>Le Monolithe</h3>
            <h4>Snowboard shop app!</h4>
            <div class="row">
              <div
                class="d-flex justify-content-center align-items-center flex-column w-100"
              >
                <p class="fragment fade-in bg-primary m-0 w-50 rectangle">
                  Front End
                </p>
                <p class="fragment fade-up bg-primary m-0 w-50 rectangle ">
                  Back End
                </p>
                <p class="fragment fade-down bg-primary m-0 w-50 rectangle">
                  Data Base
                </p>
              </div>
            </div>
            <aside class="notes">
              <p>plus :</p>
              <ol>
                <li>facile à deployer, un seul fichier/repertoire à push</li>
                <li>
                  facile à tester et à débugguer (tout est centralisé). Tests
                  end to end facilités également.
                </li>
                <li>
                  tous les problème concernent le même code (caching...)
                </li>
              </ol>
              <p>moins :</p>
              <ol>
                <li>
                  Faire des évolutions est compliqué : tout est interconnecté
                </li>
                <li>Scalabilité</li>
                <li>Fermé au test de nouvelles techs, on doit tout réécrire</li>
              </ol>
            </aside>
          </section>

          <section data-background-image="./assets/images/rupture.gif">
            <h3>La séparation du front et du back</h3>
            <div class="row">
              <div
                class="d-flex justify-content-center align-items-center flex-column w-100"
              >
                <p class="fragment fade-up bg-primary m-0 w-50 rectangle mb-5">
                  Front End
                </p>
                <p class=" bg-secondary m-0 w-50 rectangle ">
                  Back End
                </p>
                <p class=" bg-secondary m-0 w-50 rectangle">
                  Data Base
                </p>
              </div>
            </div>
          </section>

          <section>
            <h3>
              l'arrivée des micros services côté back
            </h3>
            <div class="row">
              <div
                class="d-flex justify-content-center align-items-center flex-column w-100"
              >
                <p class="bg-primary m-0 w-50 mb-5 rectangle">
                  Front End
                </p>
                <div class="d-flex w-50 ">
                  <div
                    class="fragment col fade-up m-2 p-4 bg-secondary text-vertical"
                  >
                    Payment Service
                  </div>
                  <div
                    class="fragment col fade-up m-2 p-4 bg-secondary text-vertical"
                  >
                    Product Service
                  </div>
                  <div
                    class="fragment col fade-up m-2 p-4 bg-secondary text-vertical"
                  >
                    Cart Service
                  </div>
                </div>
              </div>
            </div>

            <aside class="notes">
              <p>Plus</p>
              <ol>
                <li>
                  Flexibilité, ajouter des services et des feature plus
                  facilement, indépendement
                </li>
                <li>
                  Scalabilité, mettre à l'échelle les composants indépendement
                  sans se soucier de pb de plafond.
                </li>
                <li>
                  Agilité augmentée, si un pb survient, il ne touche qu'un seul
                  service isolé des autresAny issues found in the microservices.
                  Toute évolution implique moins de risques
                </li>
              </ol>
              <p>Moins</p>
              <ol>
                <li>
                  Plus complexe à gérer, il faut s'assurer de la communication
                  entre les différentes bases et modules
                </li>
                <li>
                  Testing - Chaque microservice est deployé de manière
                  indépendante, c'esrt donc moins facile de faire des tests que
                  sur du code centralisé
                </li>
                <li>
                  Cross-cutting concerns - These issues include externalized
                  configuration, logging and other issues.
                </li>
              </ol>
            </aside>
          </section>
          <section>
            <h3>
              l'idée de créer des micro fronts ends
            </h3>
            <div class="row">
              <div
                class="d-flex justify-content-center align-items-center flex-column w-100"
              >
                <div class="d-flex w-70 ">
                  <div class="fragment col fade-up m-2 p-4 bg-primary long">
                    Team Payment
                  </div>
                  <div class="fragment col fade-up m-2 p-4 bg-primary long">
                    Team Product
                  </div>
                  <div class="fragment col fade-up m-2 p-4 bg-primary long">
                    Team Cart
                  </div>
                </div>
              </div>
            </div>
            <aside class="notes">
              <p>Les plus :</p>
              <ol>
                <li>les déploiements sont indépendants pour chaque team</li>
                <li>
                  Chaque équipe est autonome et est libre de déployer ses
                  composants
                </li>
              </ol>

              <p>Les moins :</p>
              <ol>
                <li>
                  Il faut faire tourner toutes les applications simultanément en
                  mode développement pour pouvoir tester entièrement le produit
                </li>
                <li>Le débug devient compliqué</li>
                <li>
                  Si plusieurs teams sur le même framework, duplication de code
                  téléchargé
                </li>
                <li>
                  Design system imperatif
                </li>
              </ol>
            </aside>
          </section>
          <section data-background-image="./assets/images/who.gif">
            <h3>
              Pour quelles applications ?
            </h3>
          </section>
        </section>

        <!-- Partie 2 -->
        <section data-background-image="./assets/images/rescousse.gif">
          <h2>
            les Web Components à la rescousse
          </h2>
        </section>

        <section>
          <section>
            <h3>c'est quoi ?</h3>

            <aside class="notes">
              <p>
                Web components are a set of web platform APIs that allow you to
                create new custom, reusable, encapsulated HTML tags to use in
                web pages and web apps. Custom components and widgets build on
                the Web Component standards, will work across modern browsers,
                and can be used with any JavaScript library or framework that
                works with HTML. Web components are based on existing web
                standards. Features to support web components are currently
                being added to the HTML and DOM specs, letting web developers
                easily extend HTML with new elements with encapsulated styling
                and custom behavior.
              </p>

              <h4>
                Custom Elements
              </h4>
              <p>
                The Custom Elements specification lays the foundation for
                designing and using new types of DOM elements.
              </p>

              <h4>Shadow DOM</h4>

              <p>
                The shadow DOM specification defines how to use encapsulated
                style and markup in web components.
              </p>

              <h4>ES Modules</h4>
              <p>
                The ES Modules specification defines the inclusion and reuse of
                JS documents in a standards based, modular, performant way.
              </p>

              <h4>HTML Template</h4>
              <p>
                The HTML template element specification defines how to declare
                fragments of markup that go unused at page load, but can be
                instantiated later on at runtime.
              </p>
            </aside>
          </section>

          <section>
            <h3>Création d'un web component</h3>

            <pre><code class="hljs" data-line-numbers="4,8-11">
  const state = {
    count: 0
  };
  
  class AlphaCart extends HTMLElement {
    connectedCallback() {
      this.refresh = this.refresh.bind(this);
      this.render();
      window.addEventListener("alpha:buy:changed", this.refresh);
    }
  
    disconnectedCallback() {
      window.removeEventListener("alpha:buy:changed", this.refresh);
    }
  
    render() {
      this.innerHTML = `<p>${state.count} article${
        state.count > 0 ? "s" : ""
      } in the basket</p>`;
    }
    refresh() {
      state.count++;
      this.render();
    }
  }
  
  window.customElements.define("alpha-cart", AlphaCart);
                
                </code></pre>
          </section>
        </section>

        <!-- Partie 3 -->
        <section>
          <h2>
            Application avec Angular et Vue
          </h2>
        </section>

        <!-- Remerciements -->
        <section data-background-image="./assets/images/clap.gif">
          <h1>Merci 💙</h1>
        </section>
        <!-- <p class="fragment grow">grow</p>
		<p class="fragment shrink">shrink</p>
		<p class="fragment fade-out">fade-out</p>
		<p class="fragment fade-up">fade-up (also down, left and right!)</p>
		<p class="fragment fade-in-then-out">
		  fades in, then out when we move to the next step
		</p>
		<p class="fragment fade-in-then-semi-out">
		  fades in, then obfuscate when we move to the next step
		</p>
		<p class="fragment highlight-current-blue">blue only once</p>
		<p class="fragment highlight-red">highlight-red</p>
		<p class="fragment highlight-green">highlight-green</p>
		<p class="fragment highlight-blue">highlight-blue</p> -->
      </div>
    </div>

    <script src="js/reveal.js"></script>

    <script>
      // More info about config & dependencies:
      // - https://github.com/hakimel/reveal.js#configuration
      // - https://github.com/hakimel/reveal.js#dependencies
      Reveal.initialize({
        hash: true,
        dependencies: [
          { src: "plugin/markdown/marked.js" },
          { src: "plugin/markdown/markdown.js" },
          { src: "plugin/highlight/highlight.js" },
          { src: "plugin/notes/notes.js", async: true }
        ]
      });
    </script>
  </body>
</html>
